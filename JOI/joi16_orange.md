# 오렌지 출하 해설
https://www.ioi-jp.org/joi/2015/2016-ho/2016-ho-t1-review.pdf
## 문제 개요
+ 오렌지가 일렬로 늘어서 있다.  
+ 적당한 위치에서 일렬로 나열된 오렌지를 끊어 상자에 담는다.  
+ 포장 방법에 따라 비용이 달라지므로 최소한의 비용으로 포장하는 방법을 찾아야 한다.  
+ 오렌지의 개수: $N$, 상자에 들어가는 가장 큰 오렌지의 크기: $M$
## 20점 받기
+ 가능한 모든 포장 방법을 열거하여 그 중 최소가 답이 된다.
+ $dfs(a)=(a$개째 이후를 채울 때의 최소 비용 $)$ 이라 하자.
+ $dfs(a)=min \\{ dfs(b)+(b-a) \times (MAX-MIN) + K \\}$ $(a \le b \le a+M)$
+ 전체적으로 $dfs(a)$는 $O(2^N)$번 호출되고, $dfs(a)$ 호출 1회당 시간 복잡도는 $O(M^2)$ 이므로 전체 시간 복잡도는 $O(2^N M^2)$
+ 이 방법으로 서브태스크 1 $(N \le 20)$까지 풀 수 있다.
## 100점 받기
+ 20점 풀이가 답을 계산하는 과정을 다시 살펴보자.
+ $dfs(a)$를 계산할 때 $dfs(a+1)$, $dfs(a+2)$, $...$을 계산하게 된다.
+ $dfs(a+1)$을 계산할 때 $dfs(a+2)$, $dfs(a+3)$, $...$을 계산하게 된다.
+ $dfs(a+2)$를 중복으로 계산하고 있음을 확인할 수 있다.
+ 20점 풀이에 메모이제이션을 추가함으로써 중복 계산을 막을 수 있다.
+ $dfs(a)$ 호출 1회당 시간 복잡도는 $O(M^2)$ 이고, $dfs(0)$부터 $dfs(N)$까지 $O(N)$의 호출이 발생하므로 전체 시간 복잡도는 $O(NM^2)$이고, $MAX$와 $MIN$을 $O(NM)$만에 계산하여 서브태스크 2, 3번을 풀 수 있다.
